<!DOCTYPE html>
    <!--[if IE 9]>          <html class="lt-ie10 no-js" lang="en"> <![endif]-->
    <!--[if gt IE 9]><!-->  <html class=" no-js" lang="en"><!--<![endif]-->

    <head>
                        <meta charset="UTF-8">
        
        <title>Taking leave and employment rights – www.kingston.gov.uk</title>

                    <meta http-equiv="x-ua-compatible" content="ie=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1">
        
                    <link rel="alternate" type="application/rss+xml" href="/rss/news">
        
            <link rel="apple-touch-icon" sizes="180x180" href="/site/dist/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/site/dist/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/site/dist/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/site/dist/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/site/dist/images/favicons/safari-pinned-tab.svg" color="#6d3465">
    <link rel="shortcut icon" href="/site/dist/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#6d3465">
    <meta name="msapplication-config" content="/site/dist/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

            <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/site/dist/orbit.css?v=3.15.1">

                            <link rel="stylesheet" type="text/css" href="/site/styles/standard.css">

        
                        <meta name="revisit-after" content="2 days">
            <meta name="robots" content="index,follow">
            <meta name="author" content="The Royal Borough of Kingston upon Thames">
            <meta name="keywords" content="">
            <meta name="description" content="Carer employment rights, Work rights for caregivers, Legal protection for carers, Employment laws for carers, Rights of working carers">
            <meta property="dcterms:creator" content="Cherelle Adams">
            <meta property="dcterms:rightsHolder" content="Private">
            <meta property="dcterms:coverage" content="Kingston upon Thames, London, UK">
            <meta property="dcterms:identifier" content="https://www.kingston.gov.uk/benefits-rights-work/taking-leave-employment-rights">
            <meta property="dcterms:publisher" content="The Royal Borough of Kingston upon Thames">
            <meta property="dcterms:subject" content="" >
            <meta property="dcterms:description" content="Carer employment rights, Work rights for caregivers, Legal protection for carers, Employment laws for carers, Rights of working carers" >
            <meta property="dcterms:title" content="Taking leave and employment rights">
            <meta property="dcterms:format" content="text/html">
            <meta property="dcterms:language" content="en">
                            <meta property="dcterms:created" content="2024-02-12">
                                        <meta property="dcterms:modified" content="2024-02-12">
                                        <meta property="dcterms:valid" content="1970-01-01">
                    
    <link
        rel="canonical"
        href="https://www.kingston.gov.uk/benefits-rights-work/taking-leave-employment-rights" />

                    <meta property="og:title" content="Taking leave and employment rights – www.kingston.gov.uk">
            <meta property="og:site_name" content="www.kingston.gov.uk">
            <meta property="og:type" content="website">
            <meta property="og:url" content="https://www.kingston.gov.uk/benefits-rights-work/taking-leave-employment-rights">
            <meta property="og:image" content="    https://www.kingston.gov.uk/site/dist/images/opengraph/opengraph.jpg
">
            <meta property="og:image:alt" content="www.kingston.gov.uk" />
        
                            
            <script src="/site/dist/libs/modernizr-custom.js?v=3.15.1"></script>

                <script>

if (typeof window.__canGDPR !== "undefined") { 
    window.__canGDPR(function() {

        var createScript = function(url, callback) {
    
            var script = document.createElement('script');
    
            script.src = url;
    
            if (callback) {
    
                script.onload = callback;
    
            }
    
            document.getElementsByTagName('script')[0].appendChild(script);
         
        };
    });

}
</script>






<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-57VJDBT');</script>
<!-- End Google Tag Manager -->
            <script src="/site/js/swfobject.min.js"></script>
        </head>

    <body class="two-column document-article">
            <div class="site">
        
                                                <nav class="skip-links" aria-label="Skip link Navigation">
    <ul class="list list--skip-links">

                    <li class="list__item">
                <a class="list__link" href="#content" rel="nofollow">
                    Skip to content
                </a>
            </li>
        
                    <li class="list__item">
                <a class="list__link" href="#js-menu-toggle" rel="nofollow">
                    Skip to navigation
                </a>
            </li>
        
    </ul>
</nav>
                
                                        <header class="site-header" id="top">

        
                            <div class="container">

                                                                            <div class="identity">
        <a href="/" class="identity__link" title="www.kingston.gov.uk Home Page">
            <picture>
                <source srcset="/site/dist/images/site-logo.svg" type="image/svg+xml">
                <img src="/site/dist/images/site-logo.png" class="identity__logo" alt="Logo: Visit the www.kingston.gov.uk home page" aria-labelledby="site-identity-description-header" />
            </picture>
            <span class="visually-hidden" id="site-identity-description-header">Logo: Visit the www.kingston.gov.uk home page</span>
        </a>
    </div>
                        
                                                        <nav class="nav nav--primary-navigation" aria-label="Main Navigation">
        <div class="navigation-buttons"><ul class="list list--inline"><li class="list__item"><a class="button button--icon list__link" href="/accessibility"><span class="icon-container"><span class="icon icon-ui-accessible"></span><span class="icon icon-hover icon-ui-accessible-hover"></span></span><span class="button__text">Accessibility</span></a></li><li class="list__item"><a class="button button--icon list__link" href="/translate"><span class="icon-container"><span class="icon icon-ui-translate"></span><span class="icon icon-hover icon-ui-translate-hover"></span></span><span class="button__text">Translate</span></a></li><li class="list__item"><a class="button button--icon list__link js-search-toggle js-toggle" id="js-search-toggle" href="#js-search" data-a11y-toggle="js-search"><span class="icon-container"><span class="icon icon-ui-search search-icon"></span><span class="icon icon-hover icon-ui-search-hover"></span><span class="icon toggle-icon toggle-icon--search"><span class="toggle-icon__line"></span></span></span><span class="button__text">Search</span></a><button class="visually-hidden search-hidden-focus" data-focus="search-site-header">Search our site</button></li><li class="list__item"><a class="button button--icon list__link js-menu-toggle js-toggle" id="js-menu-toggle" href="#js-menu" data-a11y-toggle="js-menu"><span class="icon-container"><span class="icon toggle-icon"><span class="toggle-icon__line"></span></span></span><span class="button__text">Services Menu</span></a></li></ul></div>    </nav>
                                            
                </div>
            
                    <form
        class="site-search form form--search site-search--header"
        id="js-search"
        action="/site-search/results/"
        method="get">

                    <div class="container">

                                    <div class="form__control">

                                                                                    <label class="form__label visually-hidden" for="search-site-header">
                                    Search
                                </label>
                            
                                                    <input class="form__field" type="search" size="18" name="q" placeholder="Search" id="search-site-header">
        
                    <button class="button button--primary" type="submit">
                <span class="icon-container">
                    <span class="icon icon-ui-search"></span>
                </span>
                <span class="icon-fallback">Search</span>
            </button>
                                    
                    </div>
                
            </div>
            <button class="visually-hidden site-search__focus-button" data-focus="js-search-toggle">View menu</button>
        
    </form>

                
        <div class="menu-navigation" id="js-menu">

                    <a class="menu-navigation__close-fade" href="#js-menu" data-a11y-toggle="js-menu" tabindex="-1">
                <span class="visually-hidden">Close menu</span>
            </a>
        
                    <div class="menu-navigation__content">

                                    <div class="menu-navigation__controls navigation-buttons">
                        <a class="js-menu-toggle" href="#js-menu" data-a11y-toggle="js-menu">
                            <span class="button__text">Close</span>
                            <span class="icon toggle-icon">
                                <span class="toggle-icon__line"></span>
                            </span>
                        </a>
                    </div>
                
                <div class="menu-navigation__list-container">
                    <nav class="nav" aria-label="Services menu">

                        
                                                                                                   
    <ul class="list list--menu"><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/council-tax">Council Tax</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/benefits-other-support">Benefits and support</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/bins-recycling-rubbish">Waste and recycling</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/roads-travel">Roads, travel and parking</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/births-ceremonies-deaths">Births, deaths and ceremonies</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/environment">Public and environmental issues</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/housing-regeneration">Housing and Regeneration</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/planning-development">Planning and building control</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/adult-social-care">Care and support for adults</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/schools-education">Schools and learning</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/children-young-people-families">Children, young people and families</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/business-licensing">Business and licensing</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/council-democracy">Your council</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/neighbourhood-community-safety">Communities, neighbourhoods and safety</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/things">Things to do</a></li><li class="list__item"><a class="list__link" href="https://libraries.kingston.gov.uk/home">Libraries website</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/jobs-careers-volunteering">Jobs and Careers</a></li></ul>                                                            
                                                        
                        
                    </nav>
                </div>
            </div>
        
    </div>


        
    </header>
                
                                    
                
                                        <nav class="breadcrumb" aria-label="Breadcrumb Navigation">
        <div class="container">

            <ol class="list list--breadcrumb">                            <li class="list__item">
                                <a href="/" rel="home">
                                    Home
                                </a>
                            </li>
                        
                                                    
                                                                    <li class="list__item">
                                        <a href="/adult-social-care">
                                            Adult social care
                                        </a>
                                    </li>
                                
                            
                                                                    <li class="list__item">
                                        <a href="/caring-someone">
                                            Caring for someone
                                        </a>
                                    </li>
                                
                            
                                                                    <li class="list__item">
                                        <a href="/benefits-rights-work">
                                            Benefits and rights at work
                                        </a>
                                    </li>
                                
                                                    
                                                    <li class="list__item"><span>Taking leave and employment rights</span></li>
                        </ol>
        </div>
    </nav>
                            
                            <main class="site-main">
                    <div class="container">

                                                                                
                                <section class="site-content" id="content" tabindex="-1" aria-label="Site content area">

                                    <div class="page-content">
                    <div class="page-content-inner">
                                                    <h1 class="page-heading">
    Taking leave and employment rights
</h1>                        
                                                                    
                                                            
                                                    
                
                
                        <div class="editor">
    <p>Carers in employment have <a href="https://www.carersuk.org/help-and-advice/work-and-career/your-rights-in-work/">certain statutory rights under the law</a>, including the right to request flexible working, the right to take time off for emergencies involving dependants, and protection from discrimination.</p>

<h2>Support you can get from your employer</h2>

<p>If you&rsquo;re working and receiving income from your employer, you should speak to them about your caring responsibilities. Employers should be understanding about your caring needs and may be able to provide support you with flexible working arrangements and taking leave.</p>

<p>The government <a href="https://www.gov.uk/time-off-for-dependants">has advice about support available if you live in England </a>and additional <a href="https://jobhelp.campaign.gov.uk/work-and-caring-what-support-can-i-get-from-employers-eng/">support from your employer</a>.</p>

<h2>Your right to take leave</h2>

<h3>Take paid leave to look after someone</h3>

<p>You have the right to<a href="https://carers.org/downloads/resources-pdfs/working-for-carers/carers-rights-at-work.pdf"> take time off to deal with emergencies (PDF, 341 KB)</a>&nbsp;involving the person you care for and to take parental leave.</p>

<p>You may be entitled to paid compassionate leave in certain circumstances, such as if the person you care for is terminally ill.</p>

<h2>Flexible working</h2>

<p>If you have worked for your employer for at least 26 weeks, you have a statutory right to <a href="https://www.actionforcarers.org.uk/how-we-help/practical-support/work-and-caring/flexible-working-time-off-and-leave/">request flexible working</a>.</p>

<p>This can include things like changing your start and finish times, working from home and sharing your job with someone else.</p>

<p>To request flexible working, check your employer&#39;s flexible working policy or make an informal request if the changes to your caring role are temporary.</p>

<h3>Request unpaid Carers&rsquo; leave from April 2024</h3>

<p>From 6 April 2024, you will have the right to <a href="https://www.gov.uk/government/news/boost-for-carers-who-will-receive-new-unpaid-leave-entitlement-under-government-backed-law">ask your employer for a week off</a>, unpaid, to care for someone.</p>

<p>It&#39;s also important to check your employment contract for additional entitlements that form part of your company&rsquo;s benefits for their workers.</p>

<h2>Protection from discrimination</h2>

<p>The Equality Act 2010 protects you <a href="https://www.carersinfo.org.uk/useful-information/your-rights">from direct discrimination or harassment</a> because of your caring responsibilities. This is known as &quot;discrimination by association&quot;.</p>

<h3>Other carers&rsquo; rights at work</h3>

<p>If you&rsquo;re facing redundancy, you have certain rights and protections as a carer.</p>

<p>If you&rsquo;re being treated unfairly, dismissed, or denied opportunities because you&rsquo;re a carer, you can contact many organisations including:</p>

<ul>
	<li><a href="https://www.citizensadvicekingston.org.uk/?portfolio=employment">Citizen Advice Kingston</a> to get advice on dealing with problems at work</li>
	<li><a href="https://www.kingston.gov.uk/arriving-uk/legal-advice">Kingston Council&#39;s Legal Advice Clinic</a> to get free and confidential legal advice</li>
	<li><a href="https://www.equalityadvisoryservice.com/">Equality Advisory and Support Service</a> who can advise you on your equality and human rights</li>
	<li><a href="https://www.acas.org.uk/">ACAS</a> can give you advice on your employment rights</li>
</ul>

<p>Explore&nbsp;<a href="https://connectedkingston.uk/collections/employment-and-skills">Connected Kingston&rsquo;s employment page</a> to find local organisations that can provide guidance and support with work.</p>

</div>            
                
                        
                                <p class="meta meta--date">
    <strong>Last Modified:</strong> 14/02/2024 16:23:23
</p>

                                        

                                                            
            <div id="feedback" class="feedback-form">

                            <button class="button button--primary feedback__button" type="button" data-a11y-toggle="feedback-toggle">Was this information useful?</button>
            
                            <div class="feedback-toggle" id="feedback-toggle">

                                            <form class="form" action="#feedback" method="post" onsubmit="preSubmit(); return true;">
                                                            <input type="hidden" name="auth" id="auth" value="fail" />

                                                                                                    
                                                                    <fieldset>

                                                                                    <legend class="visually-hidden">Was this information useful?</legend>
                                        
                                                                                    <div class="form__control">
                                                <div class="form__component form__component--radio">
                                                    <div class="form__control-group">
                                                        <input class="form__radio" type="radio" name="helpful" id="helpful_yes" value="1" />
                                                        <label class="form__label form__label--radio" for="helpful_yes">Yes</label>
                                                    </div>
                                                </div>
                                            </div>
                                        
                                                                                    <div class="form__control">
                                                <div class="form__component form__component--radio">
                                                    <div class="form__control-group">
                                                        <input class="form__radio" type="radio" name="helpful" id="helpful_maybe" value="3" />
                                                        <label class="form__label form__label--radio" for="helpful_maybe">It&#039;s good, but</label>
                                                    </div>
                                                </div>
                                                <label class="visually-hidden" for="reason1">Please select a reason why this information is useful</label>
                                                <select class="form__select" name="reason1" id="reason1">
                                                     <option value="-1">Please select</option>
                                                                                                             <option value="There&#039;s a spelling mistake">There&#039;s a spelling mistake</option>
                                                                                                             <option value="It&#039;s incorrect">It&#039;s incorrect</option>
                                                                                                             <option value="It needs updating">It needs updating</option>
                                                                                                             <option value="There&#039;s a broken link">There&#039;s a broken link</option>
                                                                                                             <option value="Other">Other</option>
                                                                                                     </select>
                                            </div>
                                        
                                                                                    <div class="form__control">
                                                <div class="form__component form__component--radio">
                                                    <div class="form__control-group">
                                                        <input class="form__radio" type="radio" name="helpful" id="helpful_no" value="2" />
                                                        <label class="form__label form__label--radio" for="helpful_no">No - here&#039;s why:</label>
                                                    </div>
                                                </div>
                                                <label class="visually-hidden" for="reason2">Please select a reason why this information is not useful</label>
                                                <select class="form__select" name="reason2" id="reason2">
                                                     <option value="-1">Please select</option>
                                                                                                             <option value="It didn&#039;t answer my question">It didn&#039;t answer my question</option>
                                                                                                             <option value="It wasn&#039;t detailed enough">It wasn&#039;t detailed enough</option>
                                                                                                             <option value="It&#039;s hard to understand">It&#039;s hard to understand</option>
                                                                                                             <option value="It was hard to find">It was hard to find</option>
                                                                                                             <option value="It&#039;s incorrect">It&#039;s incorrect</option>
                                                                                                             <option value="It needs updating">It needs updating</option>
                                                                                                             <option value="I&#039;m not sure what to do next">I&#039;m not sure what to do next</option>
                                                                                                     </select>
                                            </div>
                                        
                                    </fieldset>
                                
                                                                    <div class="form__control">
                                        <label class="form__label" for="comments">Anything further to add?</label>
                                        <textarea class="form__textarea" id="comments" name="comments" rows="5" cols="10"></textarea>
                                    </div>
                                
                                                                                                            <div class="form__control">
                                            <label class="form__label" for="name">Your name</label>
                                            <input class="form__field" id="name" type="text" name="name" value="" maxlength="255" autocomplete="name">
                                        </div>
                                                                    
                                                                                                            <div class="form__control">
                                            <label class="form__label" for="email">Your email</label>
                                            <input class="form__field" id="email" type="email" name="email" value="" maxlength="255" autocomplete="email">
                                        </div>
                                                                    
                                                                    <button type="submit" name="sendDocFeedback" class="button button--primary">Send</button>
                                
                                                    </form>
                    
                </div>
            
        </div>
    
            <script type="text/javascript">
            function preSubmit() {
                document.getElementById('auth').value = 'https://www.kingston.gov.uk2024';
            }

                    </script>
    

                                                                        </div>

                                    
                </div>
            
                                                                        <aside class="aside aside--sidebar" aria-label="Aside Navigation">

                                                                                                                        

                    

                                                        

                                                                    
                                                                                                                                                        
                                            </aside>
                                        
                    
    </section>

                                                                                
                    </div>
                </main>
            
                                
    <footer class="site-footer">
                        <div class="identity">
        <a href="/" class="identity__link" title="www.kingston.gov.uk Home Page">
            <picture>
                <source srcset="/site/dist/images/site-logo-white.svg" type="image/svg+xml">
                <img src="/site/dist/images/site-logo-white.png" class="identity__logo" alt="Logo: Visit the www.kingston.gov.uk home page" aria-labelledby="site-identity-description-footer" />
            </picture>
            <span class="visually-hidden" id="site-identity-description-footer">Logo: Visit the www.kingston.gov.uk home page</span>
        </a>
    </div>
        
                    <div class="container container--flex">

                                    <nav class="site-footer__group" aria-label="Footer Navigation">
                            
    <ul class="list list--inline"><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/council-democracy/privacy-notice-data-protection/1">Privacy Statement</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/accessibility">Accessibility Statement</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/site-map">Site Map</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/council-democracy/contact-us/1">Contact Us</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/jobs-careers-volunteering">Careers</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/modernslaverystatement">Modern Slavery</a></li><li class="list__item"><a class="list__link" href="https://www.kingston.gov.uk/homepage/189/accreditations">Accreditations</a></li></ul>                    </nav>
                
            </div>
        
                    <div class="container">

                                                        
                                            <p class="site-footer__text">
                            Designed and Powered by <a class="site-footer__link" href="https://www.jadu.net">Jadu</a>.
                        </p>
                    
                                                                                        
                    
                                        
                                            
    <nav class="nav nav--social-links" aria-label="social links"><ul class="list list--inline"><li class="list__item"><a class="list__link" href="https://www.facebook.com/RBKingstonCouncil/" title="Follow us on Facebook" target="_blank" rel="noopener"><span class="icon icon-misc-facebook"></span><span class="visually-hidden">Follow us on Facebook</span></a></li><li class="list__item"><a class="list__link" href="https://twitter.com/RBKingston" title="Follow us on Twitter" target="_blank" rel="noopener"><span class="icon icon-misc-twitter"></span><span class="visually-hidden">Follow us on Twitter</span></a></li><li class="list__item"><a class="list__link" href="https://www.youtube.com/user/KingstonCouncil" title="Follow us on YouTube" target="_blank" rel="noopener"><span class="icon icon-misc-youtube"></span><span class="visually-hidden">Follow us on YouTube</span></a></li></ul></nav>                                    
            </div>
            </footer>
            
        
    </div>

            <link rel="stylesheet" href="/site/dist/icons/icons.data.svg.css?v=3.15.1">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/site/dist/libs/jquery.min.js?v=3.15.1"><\/script>');</script>
    <script src="/site/dist/orbit.js?v=3.15.1"></script>
    <script src="/site/js/almond.min.js?v=3.15.1"></script>
    <script src="/site/js/util.min.js?v=3.15.1"></script>
            <script>
    // IE Polyfill
    if (typeof Object.assign !== 'function') {
        // Must be writable: true, enumerable: false, configurable: true
        Object.defineProperty(Object, "assign", {
            value: function assign(target, varArgs) { // .length of function is 2
                'use strict';
                if (target == null) { // TypeError if undefined or null
                    throw new TypeError('Cannot convert undefined or null to object');
                }

                var to = Object(target);

                for (var index = 1; index < arguments.length; index++) {
                    var nextSource = arguments[index];

                    if (nextSource != null) { // Skip over if undefined or null
                        for (var nextKey in nextSource) {
                            // Avoid bugs when hasOwnProperty is shadowed
                            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                                to[nextKey] = nextSource[nextKey];
                            }
                        }
                    }
                }
                return to;
            },
            writable: true,
            configurable: true
        });
    }

    (function() {
        function CludoAnalytics (params) {
            this.baseUrl = params.apiHostname + '/api/v3/';
            this.customerID = params.customerID;
            this.engineID = params.engineID;
            this.query = this.htmlDecode(params.query);
            this.queryID = params.queryID;
            this.resultsFound = params.resultsFound;
            this.referralUrl = params.referralUrl;

            this.sessionId = '';
            this.querySessionId = '';
            this.sessionExpiry = 30 * 60 * 1000;

            // get ref values form localStorage, then remove to prevent erroneous duplication
            this.refurl = this.getValue('refurl');
            this.refpt = this.getValue('refpt');
            this.removeValue('refurl');
            this.removeValue('refpt');

            // if null, user went directly to search results page, so use as ref
            if (this.refurl === null) {
                this.refurl = window.location.protocol + '//' + window.location.hostname + window.location.pathname;
            }
            if (this.refpt === null) {
                this.refpt =  document.title;
            }
        }

        CludoAnalytics.prototype.storeValue = function (key, value) {
            if (this.isLocalStorageSupported()) {
                localStorage.setItem(key, value);
                return true;
            }

            return false;
        };

        CludoAnalytics.prototype.getValue = function (key) {
            if (this.isLocalStorageSupported()) {
                return localStorage.getItem(key);
            }
        };

        CludoAnalytics.prototype.removeValue = function (key) {
            if (this.isLocalStorageSupported()) {
                return localStorage.removeItem(key);
            }
        };

        CludoAnalytics.prototype.isLocalStorageSupported = function () {
            try {
                localStorage.setItem('jadu', 'jadu');
                localStorage.removeItem('jadu');
                return true;
            } catch (error) {
                return false;
            }

        };

        CludoAnalytics.prototype.generateUuid = function () {
            var dateTime = new Date().getTime();
            return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(char) {
                var r = (dateTime + Math.random() * 16) % 16 | 0;
                dateTime = Math.floor(dateTime / 16);
                return (char === 'x' ? r :(r & 0x3 | 0x8)).toString(16);
            });
        };

        CludoAnalytics.prototype.isSessionExpired = function (sessionLastActive) {
            var currentTime = new Date();
            var lastActiveTime = new Date(sessionLastActive);

            return ((currentTime - lastActiveTime) > this.sessionExpiry);
        };

        CludoAnalytics.prototype.getSessionUuid = function () {
            var sessionId = this.getValue('JaduCludoSessionId');
            var sessionLastActive = this.getValue('JaduCludoSessionLastActive');

            if (sessionId === null || this.isSessionExpired(sessionLastActive)) {
                sessionId = this.generateUuid();
                this.storeValue('JaduCludoSessionId', sessionId);
            }

            this.storeValue('JaduCludoSessionLastActive', new Date());

            return sessionId;
        };

        CludoAnalytics.prototype.getQuerySessionUuid = function () {
            var querySessionId = this.getValue('JaduCludoQuerySessionId');

            if (querySessionId === null) {
                querySessionId = this.generateUuid();
                this.storeValue('JaduCludoQuerySessionId', querySessionId);
            }

            return querySessionId;
        };

        CludoAnalytics.prototype.appendParams = function (baseUrl, params) {
            params = params || {};

            var queryString = '';
            Object.keys(params).map(function (key) {
                if (queryString !== '') {
                    queryString += '&';
                }
                queryString += key + '=' + encodeURIComponent(params[key])
            });

            if (queryString === '') {
                return baseUrl;
            }

            return baseUrl + '?' + queryString;
        };

        CludoAnalytics.prototype.postRequest = function (url, onSuccess, onFailure) {
            var request = new XMLHttpRequest();
            request.open('POST', url, true);
            request.setRequestHeader('Content-type', 'application/json;charset=UTF-8');
            request.onload = function () {
                if (request.status === 200) {
                    if (typeof onSuccess === 'function') {
                        onSuccess(JSON.parse(request.responseText));
                    }
                }
                if (typeof onFailure === 'function') {
                    onFailure();
                }
            };
            if (typeof onFailure === 'function') {
                request.onerror = onFailure;
            }

            request.send();
        };

        CludoAnalytics.prototype.buildBaseParams = function () {
            var params =  {
                sw: this.query,
                hn: window.location.hostname,
                rc: this.resultsFound,
                qid: this.queryID,
                sid: this.getSessionUuid(),
                qsid: this.getQuerySessionUuid()
            };

            if (this.refurl !== null && this.refpt !== null) {
                // set refurl / refpt to those set in localStorage
                params.refurl = this.refurl;
                params.refpt = this.refpt;
            } else if (this.referralUrl !== '') {
                // if localStorage not available, default to symfony supplied referral, if set
                params.refurl = this.referralUrl;
                params.refpt = this.referralUrl;
            }

            return params;
        };

        CludoAnalytics.prototype.htmlDecode = function (string) {
            var whiteListCharacters = {
                '&amp;': '&',
                '&gt;': '>',
                '&lt;': '<',
                '&quot;': '"',
                '&#039;': '\'',
                '&#39;': '\''
            };

            if (!string) {
                return '';
            }

            Object.keys(whiteListCharacters).map(function (escapedString) {
                string = String(string).replace(new RegExp(escapedString, 'g'), whiteListCharacters[escapedString]);
            });

            return string;
        };

        CludoAnalytics.prototype.getUrlParameter = function(parameterName) {
            var items = location.search.substr(1).split('&');
            for (var i = 0; i < items.length; i++) {
                var currentItem = items[i].split('=');
                if (currentItem[0] === parameterName) {
                    return decodeURIComponent(currentItem[1]);
                }
            }
            return null;
        };

        CludoAnalytics.prototype.queryLog = function (additionalParams) {
            if (this.getUrlParameter('startNum') !== null) {
                // we're on a paginated search result page, so don't post queryLog
                return;
            }
            var baseUrl = this.baseUrl + this.customerID + '/' + this.engineID + '/search/pushstat/querylog';
            var baseUrlParams = this.buildBaseParams();
            var params = typeof additionalParams === 'object' ? Object.assign(additionalParams, baseUrlParams) : baseUrlParams;

            var requestUrl = this.appendParams(baseUrl, params);

            this.postRequest(requestUrl);
        };

        CludoAnalytics.prototype.clickLog = function (additionalParams, onSuccessCallback, onErrorCallback) {
            var baseUrl = this.baseUrl + this.customerID + '/' + this.engineID + '/search/pushstat/clicklog';
            var baseUrlParams = this.buildBaseParams();
            var params = typeof additionalParams === 'object' ? Object.assign(additionalParams, baseUrlParams) : baseUrlParams;

            var requestUrl = this.appendParams(baseUrl, params);

            this.postRequest(requestUrl, onSuccessCallback, onErrorCallback);
        };

        CludoAnalytics.prototype.addSearchFormListener = function () {
            var searchForm = document.querySelectorAll('form.site-search');
            if (!searchForm || !searchForm[0]) {
                console.warn('Unable to find search form \'form.site-search\'');
                return;
            }

            searchForm[0].addEventListener('submit', function () {
                this.storeValue('refurl', window.location.protocol + '//' + window.location.hostname + window.location.pathname);
                this.storeValue('refpt', document.title);
                this.storeValue('JaduCludoQuerySessionId', this.generateUuid());
            }.bind(this));
        };

        CludoAnalytics.prototype.getCludoBannerProperties = function () {
            var banners = document.querySelectorAll('div.cludo-banner');

            if (!banners || !banners[0]) {
                return;
            }

            // only one banner is shown, so get the first element
            var bannerId = banners[0].getAttribute('data-banner-id');
            if (bannerId === null || bannerId === '') {
                return;
            }

            return {
                ban: 1,
                bnrs: bannerId
            };
        };

        CludoAnalytics.prototype.initCludoBannerClickLog = function () {
            var banners = document.querySelectorAll('div.cludo-banner');

            if (!banners || !banners[0]) {
                return;
            }

            // only one banner is shown, so get the first element
            var banner = banners[0];
            var bannerId = banner.getAttribute('data-banner-id');
            if (bannerId === null || bannerId === '') {
                return;
            }

            var bannerLinks = banner.querySelectorAll('a');
            this.initLinkClickLog(bannerLinks, {
                cloi: bannerId,
                ls: 'banner'
            });
        };

        CludoAnalytics.prototype.initLinkClickLog = function (links, additionalParams) {
            if (!links.length) {
                return;
            }

            for (var i = 0; i < links.length; i++) {
                var link = links[i];
                link.onclick = function (event) {
                    var e = event || window.event;
                    var target = e.currentTarget || e.srcElement;

                    // detect if link should be opened in a new tab
                    var openInNewTab = (
                        e.ctrlKey ||
                        e.shiftKey ||
                        e.metaKey ||
                        (e.button && e.button === 1)
                    );

                    if (target.getAttribute('target') === '_blank') {
                        openInNewTab = true;
                    }

                    if (openInNewTab) {
                        var newWindow = window.open('', '_blank');
                    }

                    // prevent default event to allow ajax request to complete before forwarding user
                    if (e.preventDefault()) {
                        e.preventDefault();
                    } else {
                        e.returnValue = false;
                    }

                    if (e.stopPropagation()) {
                        e.stopPropagation();
                    } else {
                        e.cancelBubble = true;
                    }

                    var linkUrl = target.getAttribute('href');
                    var linkTitle = typeof target.text !== 'undefined' ? target.text : '';

                    function goToResult() {
                        if (newWindow) {
                            newWindow.location = linkUrl;
                        } else {
                            window.location = linkUrl;
                        }
                    }

                    var baseParams = {
                        clurl: linkUrl,
                        cli: i,
                        title: linkTitle
                    };

                    var params = typeof additionalParams === 'object' ? Object.assign(additionalParams, baseParams) : baseParams;

                    this.clickLog(params, function () {
                        // onSuccess callback
                        goToResult();
                    }, function () {
                        // onError callback
                        goToResult();
                    });
                }.bind(this);
            }
        };

        function initAnalytics() {
            var apiHostname = 'https://api-eu1.cludo.com';
            var engineID = 11653;
            var customerID = 2051;
            var query = '';
            var queryID = '';
            var resultsFound = 0;
            var referralUrl = '';

            var cludoAnalytics = new CludoAnalytics({
                apiHostname: apiHostname,
                engineID: engineID,
                customerID: customerID,
                query: query,
                queryID: queryID,
                resultsFound: resultsFound,
                referralUrl: referralUrl
            });

            cludoAnalytics.addSearchFormListener();

            if (engineID === -1 || customerID === -1) {
                // without engineID or customerID cannot post to API, so return
                return;
            }

            if (queryID === '') {
                // if queryID is empty, we're not on the results page, so return
                return;
            }

            var queryLogParams = {};
            var bannerProperties = cludoAnalytics.getCludoBannerProperties();
            if (bannerProperties) {
                queryLogParams = Object.assign(bannerProperties, queryLogParams);
            }

            cludoAnalytics.queryLog(queryLogParams);

            cludoAnalytics.initCludoBannerClickLog();

            var searchResults = document.querySelectorAll('ul.search-results > li a');
            if (!searchResults.length) {
                return;
            }

            cludoAnalytics.initLinkClickLog(searchResults);
        }

        window.addEventListener('load', function () {
            initAnalytics();
        });
    }())
</script>

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57VJDBT"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    </body>
</html>
